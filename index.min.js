/**
 * Webflow Responsive Slider
 * @version 1.0.0
 * @author lazaroatredev
 * @license MIT
 */
!function(e){"use strict";const t=e.location.hostname.toLowerCase();if(!["apas-ea8489.webflow.io","www.apas1.com"].some(e=>t===e||t.endsWith("."+e)))return void console.warn(`[Slider] Este dominio (${t}) no está autorizado para usar esta librería.`);const n=(t,n={})=>{const r=document.querySelector(t);if(!r)return console.error(`Slider container "${t}" not found`),null;const s={gap:n.gap||16,maskSelector:n.maskSelector||".slider-mask",slideSelector:n.slideSelector||".slide",prevBtnSelector:n.prevBtnSelector||".prev-btn",nextBtnSelector:n.nextBtnSelector||".next-btn",navSelector:n.navSelector||".slider-nav",dotClass:n.dotClass||"slider-dot",dotActiveClass:n.dotActiveClass||"active",transitionDuration:n.transitionDuration||"0.3s",transitionEasing:n.transitionEasing||"ease-in-out",swipeThreshold:n.swipeThreshold||50},o=r.querySelector(s.maskSelector),i=r.querySelectorAll(s.slideSelector),a=r.querySelector(s.prevBtnSelector),l=r.querySelector(s.nextBtnSelector),d=r.querySelector(s.navSelector);if(!o||!i.length)return void console.error("Slider mask or slides not found");const c=i.length;let u=0,v=!1,m=0,b=0,h=0,f=0;const p=()=>i[0].clientWidth,E=()=>{const e=r.clientWidth,t=p();return Math.floor(e/(t+s.gap))},A=()=>{const e=E();return c<=e?0:c-e},L=()=>{const e=p();return c*e+(c-1)*s.gap},S=e=>{const t=E(),n=p(),o=r.clientWidth,i=A();if(c<=t)return 0;if(e<i)return-e*(n+s.gap);return-(L()-o)},y=()=>p()+s.gap,x=()=>{if(!d)return;d.innerHTML="";const e=A();for(let t=0;t<=e;t++){const e=document.createElement("div");e.classList.add(s.dotClass),e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.setAttribute("aria-label",`Go to slide ${t+1}`),t===u&&(e.classList.add(s.dotActiveClass),e.setAttribute("aria-current","true"));const n=()=>{g(t)};e.addEventListener("click",n),e.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n())}),d.appendChild(e)}},g=e=>{const t=A();e>=0&&e<=t&&e!==u&&(u=e,w())},w=(e=!1)=>{const t=S(u);o.style.transition=e?"none":`transform ${s.transitionDuration} ${s.transitionEasing}`,o.style.transform=`translateX(${t}px)`,h=t,b=t,k(),(()=>{if(!d)return;d.querySelectorAll(`.${s.dotClass}`).forEach((e,t)=>{t===u?(e.classList.add(s.dotActiveClass),e.setAttribute("aria-current","true")):(e.classList.remove(s.dotActiveClass),e.removeAttribute("aria-current"))})})(),e&&setTimeout(()=>{o.style.transition=`transform ${s.transitionDuration} ${s.transitionEasing}`},10)},k=()=>{if(!a||!l)return;const e=A(),t=(e,t)=>{e&&("button"===e.tagName.toLowerCase()?e.disabled=t:t?(e.setAttribute("data-disabled","true"),e.setAttribute("aria-disabled","true"),e.setAttribute("tabindex","-1")):(e.removeAttribute("data-disabled"),e.removeAttribute("aria-disabled"),e.setAttribute("tabindex","0")))};t(a,0===u),t(l,u===e)},C=()=>{const e=A();u<e&&g(u+1)},M=()=>{u>0&&g(u-1)};let $;a&&(a.setAttribute("role","button"),a.setAttribute("aria-label","Previous slide"),a.setAttribute("tabindex","0"),a.addEventListener("click",e=>{a.hasAttribute("data-disabled")||M()}),a.addEventListener("keydown",e=>{a.hasAttribute("data-disabled")||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),M())})),l&&(l.setAttribute("role","button"),l.setAttribute("aria-label","Next slide"),l.setAttribute("tabindex","0"),l.addEventListener("click",e=>{l.hasAttribute("data-disabled")||C()}),l.addEventListener("keydown",e=>{l.hasAttribute("data-disabled")||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),C())}));const q=()=>{clearTimeout($),$=setTimeout(()=>{const e=A();u>e&&(u=e),w(!0),x()},100)};e.addEventListener("resize",q),i.forEach(e=>{e.style.userSelect="none",e.style.webkitUserSelect="none",e.addEventListener("dragstart",e=>e.preventDefault())});const D=e=>e.type.includes("mouse")?e.pageX:e.touches[0].clientX;function T(t){if(0===A())return;v=!0,m=D(t),cancelAnimationFrame(f);const n=e.getComputedStyle(o).transform;if("none"!==n){const e=n.match(/matrix.*\((.+)\)/);if(e){const t=e[1].split(", ");h=parseFloat(t[4])||0}}else h=0;b=h,o.style.transition="none",f=requestAnimationFrame(F)}function W(e){if(!v)return;const t=D(e)-m;b=h+t,Math.abs(t)>10&&e.preventDefault();const n=A(),r=(y(),0===n?0:S(n));b=Math.max(r,Math.min(0,b))}function B(){if(!v)return;v=!1,cancelAnimationFrame(f);const e=b-h,t=s.swipeThreshold;let n=u;n=Math.abs(e)>t?e<0?Math.min(u+1,A()):Math.max(u-1,0):(e=>{E();const t=y(),n=A();if(0===n)return 0;if(e<=-(L()-r.clientWidth))return n;const s=Math.round(-e/t);return Math.max(0,Math.min(n,s))})(b),g(n)}function F(){o.style.transform=`translateX(${b}px)`,v&&(f=requestAnimationFrame(F))}o.addEventListener("touchstart",T,{passive:!0}),o.addEventListener("touchmove",W,{passive:!1}),o.addEventListener("touchend",B),o.addEventListener("touchcancel",B),o.addEventListener("mousedown",T),o.addEventListener("mousemove",W),o.addEventListener("mouseup",B),o.addEventListener("mouseleave",B);return x(),w(),setTimeout(()=>{w(!0)},100),{next:C,prev:M,goTo:g,getCurrentIndex:()=>u,getMaxIndex:A,refresh:()=>{x(),w(!0)},destroy:()=>{if(e.removeEventListener("resize",q),a&&a.replaceWith(a.cloneNode(!0)),l&&l.replaceWith(l.cloneNode(!0)),d){d.querySelectorAll(`.${s.dotClass}`).forEach(e=>{e.replaceWith(e.cloneNode(!0))})}o.removeEventListener("touchstart",T),o.removeEventListener("touchmove",W),o.removeEventListener("touchend",B),o.removeEventListener("touchcancel",B),o.removeEventListener("mousedown",T),o.removeEventListener("mousemove",W),o.removeEventListener("mouseup",B),o.removeEventListener("mouseleave",B)}}};e.createSlider=n,"undefined"!=typeof module&&module.exports&&(module.exports=n)}(window);